% File: tumcaptions.sty Copyright (C) 2019 The LaTeX4EI Team
% Provides the caption format defined by the TUM Corporate Design.
%
% It may be distributed and/or modified under the conditions of the
% LaTeX Project Public License (LPPL), either version 1.3c of this
% license or (at your option) any later version. The latest version
% of this license is in the file
%
%    https://www.latex-project.org/lppl.txt
%
% This file is part of the "tum-templates bundle" (The Work in LPPL)
% and all files in that bundle must be distributed together.
%
%
% ----------------------------------------------------------------------------
%
% The development version of the bundle can be found at
%
%    https://gitlab.lrz.de/latex4ei/tum-templates
%
% for those people who are interested.
%
% ----------------------------------------------------------------------------
%
% Version history:
% v1.0 2020/10/01 Initial version.
% v2.0 2021/04/19 Set tableheading option if KOMA class is loaded.
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tumcaptions}[2021/04/19 v2.0]


% .:: Required packages
% ----------------------------------------------------------------------------

% suppress hypcap warning when using \captionof
\RequirePackage{silence}
\WarningFilter{caption}{The option `hypcap=true' will be ignored}

\RequirePackage{caption}
\RequirePackage{subcaption}
\RequirePackage{etoolbox}

% set tableheading option if KOMA Script calss is loaded
\ifdef{\KOMAClassName}{\KOMAoptions{captions=tableheading}}{}


% .:: Global caption setup
% ----------------------------------------------------------------------------

\captionsetup{
  format=plain,
  font={small},
  justification=justified,
  labelfont={small,bf},
  labelsep=space
}


% .:: Caption setup for specific environments
% ----------------------------------------------------------------------------

% tables
\captionsetup[table]{
  position=above
}

% listings
\captionsetup[lstlisting]{
  position=above,
  singlelinecheck=off
}

% algorithms
\captionsetup[algorithm]{
  format=plain,
  font={small},
  justification=justified,
  labelfont={small,bf},
  labelsep=space
}
